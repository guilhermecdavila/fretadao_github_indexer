<div class="p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6">
  <div class="rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] lg:p-6">
    <h3 class="mb-5 text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-7">
      Webscrapper de Usuários do GitHub
    </h3>

    <div class="p-5 mb-6 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6">
      <div class="flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between">
        <%= simple_form_for @filter, as: :filter, url: github_users_path, data: { turbo: false }, html: { class: "w-full grid grid-cols-8 gap-4" }, method: :get do |form| %>
          <input placeholder="Buscar por nome, nickname, organização ou localização" class="string optional h-16 dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full col-span-6 rounded-lg border border-gray-300 bg-transparent py-2.5 pr-3.5 pl-[42px] text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30" maxlength="100" size="100" type="text" name="filter[query]" id="filter_query" value="<%= @filter.query %>">

          <button type="submit" class="gap-2 flex w-full items-center justify-center rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto">
            <i class="fa fa-magnifying-glass fa-lg"></i>
            Buscar
          </button>

          <%= link_to new_github_user_path, class: 'gap-2 flex w-full items-center justify-center rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto' do %>
            <i class="fa fa-plus fa-lg"></i>
            Novo Usuário
          <% end %>
        <% end %>
      </div>
    </div>

    <% if @filter.query.present? %>

      <div class="p-5 mb-6 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6">
        <% if @github_users.present? %>
          <% @github_users.each do |item| %>
            <div
              class="flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between"
            >
              <div
                class="flex flex-col items-center w-full gap-6 xl:flex-row"
              >
                <div
                  class="w-20 h-20 overflow-hidden border border-gray-200 rounded-full dark:border-gray-800"
                >
                  <%= image_tag item.image_url %>
                </div>
                <div class="order-3 xl:order-2">
                  <h4
                    class="mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 xl:text-left"
                  >
                    <%= item.name %>
                  </h4>
                  <div
                    class="flex flex-col items-center gap-1 text-center xl:flex-row xl:gap-3 xl:text-left"
                  >
                    <p class="text-sm text-gray-500 dark:text-gray-400">
                      <%= item.nickname %>
                    </p>
                    <div
                      class="hidden h-3.5 w-px bg-gray-300 dark:bg-gray-700 xl:block"
                    ></div>
                    <p class="text-sm text-gray-500 dark:text-gray-400">
                      <%= item.location %>
                    </p>
                  </div>
                </div>
                <div
                  class="flex items-center order-2 gap-2 grow xl:order-3 xl:justify-end"
                >

                  <%= link_to item.encripted_github_url, class: 'flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto', target: '_blank' do %>
                    <i class='fa-brands fa-github-alt fa-lg'></i>
                    <%= item.encripted_github_url %>
                  <% end %>
                </div>
              </div>

              <%= link_to edit_github_user_path(item), class: 'flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto' do %>
                <i class="fa fa-pencil fa-lg"></i>
                Editar
              <% end %>
              <%= link_to github_user_path(item), class: 'flex w-full items-center justify-center gap-2 rounded-full border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200 lg:inline-flex lg:w-auto' do %>
                <i class="fa fa-eye fa-lg"></i>
                Visualizar
              <% end %>
            </div>
            <hr class="h-px my-8 bg-gray-200 border-0 dark:bg-gray-700">
          <% end %>
        <% else %>
          <div class="rounded-xl border border-amber-500 bg-amber-50 p-4 dark:border-amber-500/30 dark:bg-amber-500/15">
            <div class="flex items-start gap-3">
              <p class="text-sm text-gray-500 dark:text-gray-400">
                Nenhum usuário foi encontrado.
              </p>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>